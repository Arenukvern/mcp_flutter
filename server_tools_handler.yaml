# server_tools_handler.yaml
handlers:
  - name: get_widget_tree
    description: Fetches the widget tree.
    rpcMethod: "debug.dumpRenderTree"
    needsDebugVerification: true
    responseWrapper: true
    parameters: {}

  - name: get_widget_details
    description: Fetches details for a specific widget.
    rpcMethod: "inspector.getProperties"
    needsDebugVerification: true
    responseWrapper: true
    parameters:
      objectId: "arg.objectId"

  - name: get_vm_info
    description: Fetches VM information.
    rpcMethod: "getVM"
    needsDebugVerification: true
    responseWrapper: true
    parameters: {}

  - name: toggle_debug_paint
    description: Toggles debug paint mode.
    rpcMethod: "debug.setDebugPaint"
    needsDebugVerification: true
    responseWrapper: true
    parameters:
      enabled: ""

  - name: get_root_widget_summary_tree
    description: Fetches the root widget summary tree using the Dart Service Extension Proxy.
    rpcMethod: "ext.flutter.inspector.getRootWidgetSummaryTree"
    needsDartServiceExtensionProxy: true
    needsDebugVerification: true
    responseWrapper: true
    parameters:
      includeProperties: "arg.includeProperties"
      subtreeDepth: "arg.subtreeDepth"

  - name: debug_dump_layer_tree
    description: Dump the layer tree from the Flutter app.
    rpcMethod: "debug.dumpLayerTree"
    needsDebugVerification: true
    responseWrapper: true
    parameters: {}
